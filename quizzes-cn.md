
# 数据科学方法与实践思考题

[第1章 数据科学简介](#第1章-数据科学简介)

[第2章 统计基础](#第2章-统计基础)

[第3章 机器学习](#第3章-机器学习)

[第4章 神经网络与深度学习](#第4章-神经网络与深度学习)

[第5章 数据科学的流程](#第5章-数据科学的流程)

[第6章 数据存储和处理](#第6章-数据存储和处理)

[第7章 机器学习技术栈](#第7章-机器学习技术栈)

[第8章 产品分析](#第8章-产品分析)

[第9章 度量指标](#第9章-度量指标)

[第10章 AB实验](#第10章-AB实验)

[第11章 搜索推荐广告模型](#第11章-搜索推荐广告模型)

[第12章 推荐领域的应用场景](#第12章-推荐领域的应用场景)

[第13章 广告领域的应用场景](#第13章-广告领域的应用场景)

[第14章 搜索领域的应用场景](#第14章-神经网络与深度学习)

[第15章 自然语言模型与应用场景](#第15章-自然语言模型与应用场景)

[第16章 大语言模型](#第16章-大语言模型)

## 第1章 数据科学简介

#### 数据科学家和算法工程师在工作内容上有哪些差别？
数据科学家的工作更侧重数据，负责将业务问题转化为数据问题，并找到解决问题的思路；算法工程师则负责将这些思路转化为具体的算法和模型，并优化模型的性能。
![](https://lh7-rt.googleusercontent.com/docsz/AD_4nXddxZOadIILhlONMUYEJZ1gzkXPEMd2H8fDK8W9S3s7BcTHYX3ojYWEPAcLexouCy2LCrWES2uN7Otue0D9dbNP97PliV214MGGCb63RF_7EHsIeC8eoCIqy2-R4TPaOkcJ9RW6vloW5nz6OttgJFXj8vYj?key=LUNIL0RdK8QZOOvRcz6T7w)

#### 在医疗、金融、电商、市场营销等领域，有哪些典型的数据科学的应用案例？
    
-   医疗领域：疾病诊断与预测: 利用机器学习算法分析患者的医疗数据（如病史、影像、基因数据），实现疾病的早期诊断和预测，提高治疗效果。AI驱动的药物研发: 通过数据挖掘发现潜在的药物靶点，加速新药的研发过程，降低研发成本。医疗影像分析: 利用深度学习技术对医学影像进行分析，提高诊断的准确性和效率。
    
-   金融领域：风险评估: 通过分析客户的信用历史、交易记录等数据，评估信用风险，为贷款审批提供决策支持。欺诈检测: 利用机器学习算法识别异常交易行为，防止金融欺诈。投资组合优化: 根据市场数据和客户风险偏好，构建最优的投资组合。量化交易: 利用算法对市场数据进行分析，自动执行交易决策。
    
-   电商领域：推荐系统: 根据用户的历史购买记录、浏览行为等数据，为用户推荐感兴趣的商品。需求预测: 通过分析历史销售数据和市场趋势，预测未来商品的需求，优化库存管理。客户细分: 将客户按照不同的特征进行分类，实现精准营销。价格优化: 根据市场竞争情况和产品属性，动态调整商品价格，提高销售额。
    
-   营销领域：客户关系管理: 通过分析客户数据，了解客户需求，提高客户满意度和忠诚度。广告投放优化: 根据用户画像和广告效果数据，优化广告投放策略，提高广告转化率。营销活动效果评估: 通过数据分析评估营销活动的ROI，为后续营销决策提供依据。

#### 举身边2-3个优秀的数据科学家的例子，他们有哪些过人之处。


####  结合自己的专业背景和工作经历，思考未来3-5年的职业规划，如果希望转型成为数据科学家或算法工程师，应当如何查漏补缺？

#### 从处理小规模数据集到搭建基于海量数据的工程化产品，在数据存储、计算和系统实现方面有哪些知识和能力需要补足？
-   数据存储：分布式存储系统（Hadoop HDFS，AWS S3、Azure Blob Storage，NoSQL数据库），数据湖；
    
-   数据计算：MapReduce、Spark等大数据处理框架，并行计算，分布式机器学习等；
    
-   系统实现：数据管道、监控、容器化等技术。
    
[[↑] Back to top](#数据科学方法与实践思考题)
## 第2章 统计基础

#### 投掷一枚均匀硬币直到出现正面为止，计算总投掷次数（含最后一次投掷）的分布。
总投掷次数的分布服从几何分布，其概率质量函数为P(X=k) = (1/2)k。
    
#### 经典的Monty Hall问题：游戏规则是有三扇门，其中一扇门后面是一辆汽车，另外两扇门后面都是山羊。参赛者随机选择一扇门。在参赛者选择门之后，主持人会打开另一扇门，展示里面是一只山羊。请问这时参赛者应该换门吗？换门和不换门中奖的概率分别是多少？
贝叶斯统计里经典的Monty Hall问题，随机选择一扇门，中奖的概率是1/3。故不换门中奖的概率是1/3。而在初始选择不中的情况下，换门都都会中奖，故换门中奖的概率是2/3。
    
#### 给定一枚不均匀分布的硬币，出现正面的概率为p。如何用这枚硬币构造概率1/2？
连续投掷两次硬币，丢弃两次均为正面或反面的样本，只保留一正一反的样本。在这个样本空间下，出现先正后反的概率即为1/2。
    
#### 请使用生活中的例子解释假阳性和假阴性。以疾病检测为例，假设我们进行一种新的疾病检测。
-   假阳性: 一个健康的人参加了这项检测，结果显示他患上了这种疾病。其实他并没有生病，只是检测出现了误差。
    
-   假阴性: 一个患有这种疾病的人参加了检测，结果却显示他很健康。这可能导致患者延误治疗，病情恶化。
    

#### 常见的从有限总体中抽样的方法有哪些，请举3-5个例子。
常见的抽样方法有：有放回抽样、无放回抽样、分层抽样、多阶段抽样和系统抽样等。

[[↑] Back to top](#数据科学方法与实践思考题)
## 第3章 机器学习

 
#### 分析LR、RF、GBDT等算法的优缺点，思考如何在分布式环境下实现LR、RF和GBDT等算法。
算法的优缺点详见本书表3-3。RF中的决策树可以并行构建，容易实现并行化。GBDT是串行算法，但在分布式环境下可以并行化每一轮的特征计算和树构建。LR可以通过参数服务器和异步更新实现并行化。
    
#### 对于二分类问题，随机选取一个正样本和一个负样本。AUC可以表示为正样本的预测值大于负样本的概率，请给出推导过程。
假设正样本的预测得分服从分布 FS​(s)，负样本的预测得分服从分布FT​(t)。随机变量S和T分别服从分布 FS​(s)和FT​(t)。正样本的预测值大于负样本的概率即为P(S>T)。将概率P(S>T)转化为ROC曲线下的面积时，考虑到ROC曲线的面积可以表示为二元[0, 1]均匀分布的积分，使用概率积分变换（probability integral transformation）即可完成证明。
    
#### XGBoost 和 GBDT两种算法有哪些区别？
    

![](https://lh7-rt.googleusercontent.com/docsz/AD_4nXckKpd6QuemcLLCTmy_Uy5alF_wfUX1CHNuw2a-Sc8PDuzJyLOWfvTWsFdcGDFG79E3j37cOkZKweCNWZkXX7Mq29dk7fLoZKtpKDXFGHSVcWbELQaW1jtUN9lpflNjPpszrelV8FlhNU8GZxIUtGQZqzSs?key=LUNIL0RdK8QZOOvRcz6T7w)

#### 当模型出现过拟合和欠拟合时，有哪些应对方法？
集成学习（Bagging，Boosting），模型正则化，以及神经网络中的正则化技术（Dropout和Early Stopping）都是应对过拟合的方法。当模型出现欠拟合时，可以采用特征交叉，更复杂的模型或寻找新的特征。
    
#### 常见的距离聚类和密度聚类算法有哪些，请举3-5个例子。
常见的距离聚类有K-Means算法和层次聚类，密度聚类算法比如DBSCAN、HDBSCAN等。

[[↑] Back to top](#数据科学方法与实践思考题)
## 第4章 神经网络与深度学习

#### 常见的激活函数有哪些？请从计算复杂度、稀疏性、梯度等方面进行比较。
   
-   **Sigmoid函数**，把输入值变成0到1之间的值，表示正类别的概率。Sigmoid函数是一条平滑的S形曲线，适合二元分类，但输入值太大或太小时，梯度可能会消失。
    
-   **tanh函数**，也把输入值变成-1到1之间的值。它和Sigmoid类似，但输出范围更宽，有时能更好地处理数据的变化。
    
-   **ReLU函数**，把负输入值变成0，正输入值不变。ReLU函数简单有效，常用于默认的激活函数。它能避免梯度消失，并且在很多情况下表现好。
    
-   **Leaky ReLU函数**，是ReLU的改进。它给负输入值加一个小的斜率，避免ReLU的神经元死亡问题。Leaky ReLU让一些负输入值通过，保持更广的激活范围，有助于模型的稳定性。
    

#### 常见的深度学习正则化方法都有哪些？层归一化和批归一化有哪些区别？
常见的深度学习正则化方法有Dropout和early stopping。层归一化是在单个样本的特征维度上进行归一化，不依赖于batch size。批归一化是在一个batch的样本的同一个特征维度上进行归一化。如果模型输入序列长度不固定，或者希望归一化不依赖于batch size，那么层归一化是更好的选择。 如果模型输入大小固定，并希望通过归一化来加速模型训练，那么批归一化是不错的选择。
    
#### 循环神经网络输入层和输出层一对一、一对多和多对多分别有哪些应用场景？
循环神经网络的一对一的应用场景是图像分类，一对多的场景比如图像转文字，多对多比如文本翻译。
    
#### 为什么transformer相比循环神经网络能更好的拟合海量数据，并避免梯度爆炸？
Transformer 相比于 RNN，在处理海量数据时具并行计算能力强，长距离依赖建模能力强，避免梯度消失/爆炸等优势。Transformer通过层归一化来缓解梯度爆炸。
    
#### Transformer 在哪些任务上取得了很好的效果？未来发展趋势是什么？
Transformer模型具有强大的序列建模能力，在自然语言处理、计算机视觉、语音识别等多个领域都取得了显著的成果。未来发展趋势包括多模态的能力，更大规模的模型，更低的计算和推理成本，以及跟强化学习、知识图谱等技术的结合。
   
[[↑] Back to top](#数据科学方法与实践思考题)
## 第5章 数据科学的流程

#### 如何选择人工特征工程和自动化特征工程，即哪些情况下使用人工特征工程，哪些情况下使用自动化特征工程？
一是取决于领域知识，是否了解特征的物理含义，二是取决于特征的数量。通常领域知识丰富，对数据有深入理解，特征数量较少的情况下采用人工特征工程。而领域知识有限，或数据量庞大，人工设计特征成本过高，同时对模型可解释性要求不高的情况下使用自动化特征工程。
    
#### 如何基于数据分布给连续特征分桶，基于分布的分桶有哪些优劣势？
通常我们基于数据的分位数来分桶，优势是各桶的样本数量均匀，缺点是分桶边界不是整数值，并且受到分布漂移的影响。
    
#### 回忆以往工作中，接触或使用过哪些数据采集方式。
通过终端设备记录的交易数据，往上爬取的Web数据，用户行为日志、汽车传感器回传的数据等。
    
#### 常见的处理缺失值的方法有哪些？
常见的方法有（1）对数据缺失机制建模，将数据是否缺失作为二元类别变量进行建模；（2）采用均值补全、回归补全等数据补全算法。
    
####  常见的异常点检验方法有哪些？常见的有基于统计的方法和基于密度的方法。
基于统计的方法包括:
1. 3$\sigma$原则：假设数据服从正态分布，超过平均值±3个标准差的数据点被视为异常点；
2. 箱线图法：通过箱线图的上下四分位数和1.5倍的四分位距来确定异常点的范围；
3. z-值方法：将数据标准化后，计算每个数据点的Z-score，超过一定阈值的点被视为异常点。

基于密度的方法包括: 
1. DBSCAN聚类： 将数据点分为核心点、边界点和噪声点，其中噪声点可以视为异常点；
2. LOF（Local Outlier Factor）：通过计算每个数据点的局部密度与邻居的局部密度的比值来判断其异常程度。

[[↑] Back to top](#数据科学方法与实践思考题)
## 第6章 数据存储和处理

#### 在便利店的例子中，我们要存储每笔订单的交易时间、交易用户、商品数量和价格，但允许用户退回不感兴趣的商品。请设计数据库系统。
   
-   理解需求：订单包含交易时间、交易用户、多个商品项。商品项包含商品名称、数量、单价。退货: 用户可以对订单中的部分商品进行退货。
    
-   表的设计：
 1.   **订单表（orders）**：包括 order_id (主键): 订单ID，customer_id: 客户ID，order_time: 订单创建时间，total_amount: 订单总金额，status: 订单状态（待支付、已支付、已完成、已取消）；
 2.   **订单明细表（order_items）**：包括item_id (主键): 订单明细ID，order_id (外键): 关联订单表，product_id: 商品ID，quantity: 商品数量，unit_price: 单价；
3. **商品表（products）**：包括product_id (主键): 商品ID，product_name: 商品名称，category: 商品类别，price: 商品价格；
4.  **退货记录表（returns）**：包括return_id (主键): 退货记录ID，order_item_id (外键): 关联订单明细表，return_quantity: 退货数量，return_time: 退货时间
    
####  假定在流式数据中读取每笔交易的价格，如何计算价格的中位数？
可以通过对价格分桶，在流式数据中累积每个分桶价格区间的频次，基于频次分布近似计算价格的中位数。
    
#### 有些向量搜索的软件包也能用于向量聚类和搜索，那为什么还要引入向量数据库？
向量搜索软件包更适合小规模、单机环境下的向量数据处理，而且不提供向量持久化。向量数据库更适合大规模、分布式环境下的向量数据存储和检索，提供更全面的功能和更高的性能。选择合适的工具取决于具体的应用场景：如果数据量不大，对性能要求不高，向量搜索软件包可能就足够了。如果数据量巨大，需要高性能、高可用性，向量数据库是更好的选择。
    
#### 数据仓库和数据湖有哪些差别？
详见表6-7中数据仓库和数据湖的对比。
    
#### 给定班级同学的出勤表，还有日期、用户ID、当天是否出勤（1代表出勤，0代表未出勤）。请查找所有曾连续旷课超过3天的同学ID。
问题的核心在于如何识别出勤数据中的连续缺席段。这在SQL中是一个经典的“Gaps and Islands”问题。思路是针对每个学生，将缺席日期排序后做差分，差分结果为1即标记入同一个连续缺席段。

[[↑] Back to top](#数据科学方法与实践思考题)
# 第7章 机器学习技术栈

#### 给定一个用Python训练的XGBoost模型，请叙述如何将该模型用于生产环境。主要是以下步骤：
    
1.  使用XGBoost内置方法、Pickle或Joblib将训练好的模型保存为文件。
    
2.  在生产环境中，使用相应的库加载保存的模型文件。
    
3.  选择合适的部署平台（本地或云端）。
    
4.  将模型服务化，如构建RESTful API或gRPC服务。
    

#### 请比较常见的机器学习模型调参的方法（贪心、GridSearchCV和贝叶斯）。


![](https://lh7-rt.googleusercontent.com/docsz/AD_4nXcth64AhIZS1bg2G_coE4gbOZmo1wlDPKiFxJEABGxvwDFOCZJwMV3MF66xalIIwe5DO0YztUvV0GFwTFfNvqVU8to45wgTDxEeL96gszCbB6AcCOaBhmX6DB78vPOAzAnVJ4zaSwUQXW3oRIqpgguPE7xw?key=LUNIL0RdK8QZOOvRcz6T7w)

#### 假定我们有广告的点击率预估模型，输出0-1之间的预测点击率。请简述如何离线和实时计算该模型的评估指标。评估指标的计算有哪些问题？
可以选择交叉熵作为评价指标。离线评估是在离线评估是在模型训练完成后，使用一个独立的测试集来评估模型性能。实时评估是在模型部署到线上环境后，对在线流量进行评估。常见的计算问题有（1）选择偏差问题：线上流量通常是倾向于点击的用户和广告组合，有条件可以在线上流量和随机流量上分别计算；（2）点击延迟：曝光到点击之间的延迟影响交叉熵的计算；（3）样本泄漏：保证测试数据没有用于模型训练。
    
#### 请以评论质量打分模型为例，简述如何离线训练和在线部署模型，并列举可能用到的技术栈。

离线训练阶段
    
-   数据准备：收集、清洗、标注评论数据，并划分数据集。
    
-   模型构建：选择合适的模型架构（如TextCNN、LSTM、BERT），定义损失函数和优化器。
    
-   模型训练： 使用PyTorch进行模型训练，并评估模型性能。
    

在线部署

-   模型保存：将训练好的模型保存为文件。
    
-   部署平台选择： 选择合适的部署平台（如TorchServe、TensorFlow Serving、云服务平台、容器化平台）。
    
-   模型服务：提供REST API、gRPC等接口，供客户端调用。
    

技术栈

-   PyTorch：深度学习框架
    
-   NLTK/spaCy：自然语言处理工具
    
-   Flask/FastAPI：Web框架
    
-   Docker： 容器化技术
    
-   Kubernetes：容器编排平台
    
-   云服务平台：AWS SageMaker、Google Cloud AI Platform等
    
[[↑] Back to top](#数据科学方法与实践思考题)
# 第8章 产品分析

#### 美国每个种群族裔的平均收入水平相比十年前都提高了，为什么总平均收入水平反而下降了？
这是典型的辛普森悖论的例子，考虑到移民政策的影响，美国不同族裔的占比发生变化。
    
#### 什么是选择偏差？常见的剔除选择偏差，得到科学结论的分析方法有哪些？
选择偏差是指实验样本的选择过程中存在偏差，导致样本不具有代表性。常见的选择偏差有幸存者偏差、响应偏差、截断偏差、确认偏差等。在研究设计阶段，可以通过随机抽样和随机分配实验条件确保样本具有代表性，选取合适的对照组提高研究结果的可信度。在分析阶段，可以通过post-stratification，回归分析或者倾向得分匹配（Propensity Score Matching，PSM）等方法来降低选择偏差的影响。
    
#### 请描述一个你常用产品的注册漏斗，提出优化新用户注册流程的思路，并通过数据来验证。
参考图8-13中网约车司机的注册漏斗。
    
####  请给出社交平台上内容（比如短视频或图文内容）供求关系的分析思路。
- 以短视频为例
    

-   供给侧分析：
    

1.  日上传数量：统计每天上传的短视频数量，分析上传量的变化趋势。
    
2.  垂直领域分析：将短视频内容按照不同的垂直领域（如美食、旅游、教育等）进行分类，统计各领域的上传数量，找出热门和冷门领域。
    
3.  视频质量分析：根据视频的清晰度、剪辑水平、内容原创性等指标，将视频分为不同的质量等级，统计各质量等级的视频上传量。
    

-   需求侧分析：
   
1.  观看量统计：统计每天的短视频观看量，分析观看量的变化趋势。
    
2.  互动指标：根据用户的点赞、评论、分享等互动数据，分析用户对不同视频的需求。
    
3.  用户画像：通过用户的性别、年龄、地区等信息，分析哪些类型的用户更偏好某些类别的短视频内容。
    

以上是分析社交平台上短视频内容供求关系的基本思路。

#### 某电商平台的GMV（Gross Merchandise Value）周同比增长了8%，请基于数据分析背后可能的原因。
多组分析可以辅助定位背后的原因：
 
-   基于用户分层：按用户的性别、地理位置、新老用户等进行分层分析；
    
-   基于商品分层：按商品类别分层，以及按是否热门商品分层检查是否热门商品带动了整体的GMV；
    
-   时间序列分析：是否是月度周的影响，或特定节日的影响。
    
-   交易页面来源分析：按页面（首页、分类页面、搜索结果页）拆分，看不同页面带来的交易是否有变化；
    
[[↑] Back to top](#数据科学方法与实践思考题)
## 第9章 度量指标

#### 假设我们考虑订阅制的Netflix流媒体平台通过将月费从11.99降到9.99美金，订阅用户量增长6%。如何评估是否应当下调月费？
主要是指标制定和指标选择。如果以订阅用户的营收为衡量指标，订阅用户的增长不足以弥补月费下降的损失。实际决策中还会考虑成本因素、其他业务比如广告收入，以及对长期收入的影响。
    
#### 如何通过指标体系来衡量用户在今日头条等图文内容平台所浏览内容的观感好坏？
1. 用户互动指标：点击率（CTR）、阅读时长、点赞、评论、分享等。
2. 内容质量指标：内容相关性、新鲜度、丰富度。
3. 用户反馈指标：用户满意度调查、负面反馈。
4.  推荐指标：内容分发效率。
    
#### 如何给短视频平台诸如抖音制定目标指标？
宏观维度考虑用户增长类指标（DAU，MAU，用户留存率）和营收指标（广告收入、电商收入、付费用户比例）。针对内容社区还会关注内容创作类指标（内容创作数量、创作者数量、获得收入的创作者数量）和用户参与度指标（播放、点赞、评论等）。
    
#### 搜索结果的相关性通过哪些指标来衡量？
搜索结果的相关性可以通过主观评估和客观评估来衡量。主观评估需要制定评估标准，通过人工评估或大语言模型对结果进行标注，计算NDCG等指标。客观评估可以通过用户点击率、长播率、跳出率等用户行为指标。
    
#### 假设我们对平台的低质内容进行打压，可能导致用户活跃度下降，甚至部分用户流失。这种情况下如何做产品决策？
- 平台在打压低质内容时，面临着用户活跃度下降和创作者流失的风险，这需要在平台调性、营收指标和创作者影响等多个维度进行综合考量。   

-   明确平台的长期目标：强调高质量内容，提升用户满意度和留存率，还是以数量取胜，追求快速增长？希望打造一个高品质、有价值的平台，还是更注重娱乐性和多样性？
    
-   评估低质内容对平台的影响：通过数据分析和低质内容过滤实验，量化低质内容对用户时长和交互指标的影响；
    
-   综合考虑各方因素：综合考虑平台调性、对营收指标的影响，以及对创作者的影响（低质内容的创作者是会流失还是会转向平台鼓励的内容）并制定应对策略。
    
[[↑] Back to top](#数据科学方法与实践思考题)
## 第10章 AB实验
 
#### AB 实验中样本比率不匹配（SRM）可能由什么原因引起，有哪些治理措施？
SRM 可能由于随机发生器问题（用户、会话、网页浏览量、点击等从一开始就不是以真正随机的方式分配的），或是实验交付中的技术问题（看到测试变体的概率不同），或是日志收集问题（收集数据的概率不同），或是报告错误。此外，为确保数据质量而采取的措施，例如机器人过滤，也会对实验分组之间的用户分配产生影响。SRM问题可以通过SRM比例监控和分桶均匀性验证，确保实验数据可靠，可以通过控制变量、PSM（Propensity score matching）等分析方法获得更为科学的实验结论。
    
#### 让我们考虑新用户注册，并关注用户注册后在平台行为数量的场景。在该场景下做AB实验应当采用用户分流还是设备分流？
这种场景下建议采用设备分流。设备ID在用户注册之前已经存在，可以作为唯一标识符来分配实验组。但同时要考虑到单个用户多设备的局限性。
    
#### 请介绍Poorman’s bootstrap，并写出执行Poorman’s bootstrap的伪代码。
Poorman’s bootstrap在文献中并没有统一的定义，AB实验中的Poorman’s bootstrap是一种应对有放回抽样带来的效率折损的方法。该方法将数据分桶，对每个分桶的数据计算感兴趣的指标，通过分桶指标间的方差来计算方差。
    
#### 常见的降低实验指标波动的方法有哪些？
常见的降低实验指标波动的方法有指标变换、截断和异常点剔除，这些是较为轻量级但行之有效的方法。其次可以控制变量法降低指标波动，比如CUPED或分层抽样。
    
#### 请回忆对过往工作中使用过的AB实验平台有哪些反馈？公司的实验文化处于什么层次（爬行、步行、奔跑或飞行）？
    
[[↑] Back to top](#数据科学方法与实践思考题)
## 第11章 搜索推荐广告模型

#### 用户获取信息的两种主要方式是搜索和推荐。请从用户意图、业务目标、用户画像与个性化等角度阐释搜索和推荐的区别。
详见表11-1。
    
#### 请写出TF-IDF的公式并解释公式含义。
TF-IDF的公式如下：    

![](https://lh7-rt.googleusercontent.com/docsz/AD_4nXeTQYLgfJBbV8D4nCyZXM0VI0r2PJuhGdMcpb8HYcLI-LDhx5lnotCHD7t1i_f91tJ-_C25et3y_-cUOn0nKktylNUZR7ISb9iSUUjg5enFjXkr3g4YnUvfytNS2fWfdHdJIwZsW8xlpDe645IIig-mW-0L?key=LUNIL0RdK8QZOOvRcz6T7w)

其中TF有多个变体，可以使用原始频次、相对频次或对数频次。 IDF（逆文档频次）通常使用如下公式：

![](https://lh7-rt.googleusercontent.com/docsz/AD_4nXfuEMJWxdyVZmPC0kgwIFH0oR-rvEMNWOdhQTpb3WA_jao2ITFnq6bvobb73btpUofWzCUrU5BN4hclH8yWSKAp9auAxYz9UcVdlP4Ojdziih82YK_U-O-d20Trc_tyPhm_bOgGHyWQEgHcl89Y53EbqKqX?key=LUNIL0RdK8QZOOvRcz6T7w)

#### 请叙述PageRank算法的步骤。
PageRank算法的实现步骤大致如下：
   
1.  假设有n个网页，初始化每个网页的PageRank值为1/n。
    
2.  忽略自身链接或同一网页之间的多重链接。计算每个网页的出度（即链接到其他网页的数量）。
    
3.  选择一个阻尼系数d（通常为0.85）。
    
4.  迭代更新每个网页的PageRank值，直到收敛或达到最大迭代次数。更新公式如下所示，其中R是n维的PageRank值向量，M是状态转移矩阵，1代表各元素为1的n维向量。
 

![](https://lh7-rt.googleusercontent.com/docsz/AD_4nXdklc9Ba2m-QZ3njNy06pBzydA_wklqINGmV3lx-qOizh5m4h3DjgaR94QfVIV_x7nXhAvqsXjDq2bqzlcMgWiZYEBgdFBd6_szQ5wXBdCCUWDY3s2ggjDgQU5zPA1gdVJQpnEJ0XNUbGRlmNiCWDdOXGpz?key=LUNIL0RdK8QZOOvRcz6T7w)

#### 请叙述双塔神经网络模型的离线训练和在线服务流程。
- 双塔神经网络模型在推荐系统中被广泛应用。双塔神经网络模型在模型训练中要构建用户塔和物品塔，将原始特征转换为稠密向量表示，并使用负采样构造负样本。 在线服务则侧重于模型部署和实时预测。针对用户请求，提取用户特征向量，计算用户向量与所有物品向量的相似度，并返回TopN推荐结果。
    
#### FTRL算法与其他在线学习算法如SGD在正则化方式、学习率调整、历史信息使用和使用场景上有哪些区别？

![](https://lh7-rt.googleusercontent.com/docsz/AD_4nXdSnvDYpm5kCYEptRHDx-ryKN5NCB64nRpZdL2jkMYjtEz9pg5Abk2qVIQJwf0DndsjVjK6sNQrbHQi3gp7yhjRw1m1gWCapVMaGsHxvy_tRgjk1CCX2bnUA6jHFz9H99M7YcJ0jXsHbibEJHcDkd_1_Hn8?key=LUNIL0RdK8QZOOvRcz6T7w)

[[↑] Back to top](#数据科学方法与实践思考题)
## 第12章  推荐领域的应用场景


#### 推荐召回模型使用什么指标来评估？
评估中需要考虑一路召回源单独的效果和跟其他路召回源相比的净收益。单独评估：通常在离线进行，采用的指标包括top K的精度、召回率、F1值和hit rate等。比较评估是在有其他召回源的前提下，该路召回源的额外增益。离线可以通过召回重合度、与精排模型结果的一致性等指标评估等。
    
#### 请叙述推荐系统的召回、排序、重排模块，每个模块的作用和采用的模型。
详见12.2。
    
#### 在信息流推荐场景，假定业务目标是提升用户留存，如何选择合适的推荐排序指标？
常见的做法是采用用户留存作为因变量，播放、点赞、评论等用户交互指标作为自变量进行回归，参考回归模型的权重制定合适的推荐排序指标。
    
#### 如何提升推荐结果的多样性？

一是进行后处理，二是列表级重排序。后处理是在精排阶段的排序结果上进行调整，比如将相邻或滑动窗口内的重复内容打散以提升多样性。列表级重排序可以使用基于DPP的方法，优化列表级的多样性。
    
#### 推荐系统的用户画像通常包含哪些维度，如何搭建用户画像平台？
常见画像特征的维度：人口统计学特征、兴趣标签、用户行为历史。
画像平台的搭建包括（1）构建标签体系并使用机器学习算法训练兴趣标签模型；（2）可视化： 提供友好的用户界面，可视化展示用户画像信息；（3）API接口：提供API接口，方便其他系统调用用户画像数据。（4）应用场景：寻找个性化推荐、精准营销、用户分群等企业内应用场景。
    
[[↑] Back to top](#数据科学方法与实践思考题)
# 第13章  广告领域的应用场景

#### 品牌广告和效果广告在目的、期限、优化目标和收益评估上有哪些区别？
详见表13-1。
    
#### 假设广告主出现预算花不出去，广告拿不到曝光流量的情况，请问如何诊断？
诊断包括如下维度：（a）定向问题：检查是否定向过窄，或受到过滤规则的影响；（b）出价竞争力的问题：是否出价过低，没有竞争力；（c）广告创意吸引力的问题：是否广告创意缺乏吸引力；（d）广告账户的问题：账户是否被暂停或限制？账户是否设置了每日预算上限，且已达到上限？
    
#### 请叙述广告在社交媒体平台比如Facebook的业务流程，包括广告创建、预算和出价设定、广告定向、广告展示、点击转化的整个过程。
以下是广告在社交媒体平台（以Facebook为例）的业务流程：
   
1.  广告创建：包括选择广告目标（提高品牌知名度，增加网站流量，获取潜在客户等），创建广告组，设计广告素材等；
    
2.  预算和出价设定：设定每日预算，选择出价方式（点击付费、展示付费、系统自动出价等）和竞价策略；
    
3.  广告定向；
    
4.  广告展示；
    
5.  点击转化，追踪用户在点击广告后的行为；

#### 常见的预算控制方式有哪些？
常见的方式有（a）修改竞价：通过修改竞价来提升广告的消耗；（b）概率截流：通过参竞的概率来控制预算的消耗情况。
    
#### 预算隔离的实验机制旨在解决什么问题？通常如何创建预算隔离的AB实验？

[[↑] Back to top](#数据科学方法与实践思考题)
## 第14章 搜索领域的应用场景

#### 请叙述倒排索引的构造过程。
详见图14-3倒排索引的生成过程：分词，文本处理和索引化。

#### 请写出NDCG指标的公式，并举例说明NDCG如何计算。
详见本书14.3.2。
    
#### 如何评估搜索结果的相关性和权威性？
搜索结果的相关性可以通过主观评估和客观评估来衡量。主观评估需要制定评估标准，通过人工评估或大语言模型对结果进行标注，计算NDCG等指标。客观评估可以通过用户点击率、长播率、跳出率等用户行为指标。评估搜索结果的权威性一般关注网站权威性、作者权威性以及作者-垂类权威性，其中作者-垂类权威性表示作者在当前垂类类目中的权威性。
    
#### 搜索词通常有哪些分类方式？
按照通用型划分为泛意图和精确搜索，按时效性分为时效性和非时效性，按照意图分为导航意图、信息获取和交易意图。
    
####  搜索的主观和客观评估有哪些优劣势？从区分度、评估准确性、适用范围、评估成本几个方面比较搜索的主观和客观评估。
主观评估通常只能划分是否或者几个简单的档位，区分度不高。主观评估的准确性受到评估者对用户意图的把握，客观评估的准确性受用户行为数据噪声的影响。主观评估适用于搜索引擎端到端的评估，也适用于单一模块比如意图理解模块的评估。评估成本上，主观评估通常需要花钱雇人评估，客观评估需要开发上线，以及大量的AB测试迭代。
    
[[↑] Back to top](#数据科学方法与实践思考题)
## 第15章 自然语言模型与应用场景

#### 请说明Word2Vec模型的负采样和层次SoftMax方法。
详见本书15.3.2。
    
####  通过词嵌入如何获得句子嵌入？
简单的方法是对句子中的词嵌入取均值，也可以对词向量进行加权，简单易用的修改方法比如Arora等2017年提出的SIF embedding。
    
#### 自然语言处理中的token是什么意思，有哪些常见的分词器？
在自然语言处理中，token 可以简单理解为文本中的最小语义单元。它可以是一个单词、一个子词、甚至是一个标点符号。表15-3介绍了常见的分词方法。
    
#### LSTM和transformer模型在自然语言处理中有哪些异同？
LSTM和transformer模型都可以用来处理序列数据，相比LSTM，transformer能更好的并行化，并更擅长处理远距离依赖。
    
#### 请叙述自然语言处理的发展脉络和典型的自然语言处理场景。
详见本书15.1和15.2章节。
    
[[↑] Back to top](#数据科学方法与实践思考题)
## 第16章 大语言模型

#### 大模型的规模通常从哪三个维度刻画？
从模型参数规模、训练token数量和训练所需的计算量三个维度刻画。
    
#### 大模型的内在幻觉和外在幻觉如何定义，有哪些消除幻觉的方式？
内在幻觉（intrinsic hallucination）：生成的文本与源内容逻辑上相矛盾。外在幻觉（extrinsic hallucination）：我们无法从提供的源中验证输出的正确性；源内容没有提供足够的信息来评估输出，因此是不确定的。降低大模型输出结果幻觉的方法包括解码策略优化和检索增强式生成。
    
#### 请叙述检索增强式生成（RAG）的工作流程。
检索增强式生成主要有以下步骤： 
1.  索引构建：索引构建的过程包括数据预处理，文本分割和向量化。
    
2.  检索：常用的检索方式有关键词检索、向量检索、知识图谱增强检索，以及高级的检索方式。
    
3.  生成：生成过程中，我们关注用于生成的基座模型，以及控制生成质量。

#### 大模型的数据挑战有哪些？
大模型的数据挑战海量数据带来的存储、清洗和训练的挑战，数据清洗的挑战体现在数据冗余，穿越和PII泄露等。
    
#### 请描述大模型微调的操作流程。
大模型的微调主要是以下步骤：
1.  数据准备： 收集和整理我们想让模型学习的数据，并给这些数据打上正确的标签。
    
2.  模型选择： 选择一个适合任务的大模型，比如BERT、GPT等。
    
3.  模型训练： 调整模型的学习速率、批量大小等参数，用我们准备的数据对模型进行训练。
    
4.  模型评估： 评估微调过的模型效果。
    
5.  模型保存： 把训练好的模型保存起来，方便后续任务调用。